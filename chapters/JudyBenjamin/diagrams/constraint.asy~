size(300pt,300pt);
real m=1;
real x=.2;
real y=-.2;

pair x0000=(0*m,0*m);
pair x0001=(0*m,1*m);
pair x0002=(0*m,2*m);
pair x0002a=((0+x)*m,(2+y)*m);
pair x0003=(0*m,3*m);
pair x0004=(0*m,4*m);
pair x0004a=((0+x)*m,(4+y)*m);
pair x0100=(1*m,0*m);
pair x0101=(1*m,1*m);
pair x0102=(1*m,2*m);
pair x0103=(1*m,3*m);
pair x0104=(1*m,4*m);
pair x0200=(2*m,0*m);
pair x0201=(2*m,1*m);
pair x0202=(2*m,2*m);
pair x0203=(2*m,3*m);
pair x0204=(2*m,4*m);
pair x0300=(3*m,0*m);
pair x0301=(3*m,1*m);
pair x0302=(3*m,2*m);
pair x0303=(3*m,3*m);
pair x0304=(3*m,4*m);
pair x0400=(4*m,0*m);
pair x0401=(4*m,1*m);
pair x0402=(4*m,2*m);
pair x0402a=((4+x)*m,(2+y)*m);
pair x0403=(4*m,3*m);
pair x0404=(4*m,4*m);
pair x0500=(5*m,0*m);
pair x0501=(5*m,1*m);
pair x0502=(5*m,2*m);
pair x0503=(5*m,3*m);
pair x0504=(5*m,4*m);
pair x0600=(6*m,0*m);
pair x0601=(6*m,1*m);
pair x0602=(6*m,2*m);
pair x0603=(6*m,3*m);
pair x0604=(6*m,4*m);
pair x0700=(7*m,0*m);
pair x0701=(7*m,1*m);
pair x0702=(7*m,2*m);
pair x0703=(7*m,3*m);
pair x0704=(7*m,4*m);
pair x0800=(8*m,0*m);
pair x0801=(8*m,1*m);
pair x0802=(8*m,2*m);
pair x0803=(8*m,3*m);
pair x0804=(8*m,4*m);
pair cp=(3.01*m,2.13*m);

real mgx=.25;
real mgy=.25;
pair framesw=shift((-mgx*m,-mgy*m))*x0000;
pair framenw=shift((-mgx*m,mgy*m))*x0004;
pair framene=shift((mgx*m,mgy*m))*x0804;
pair framese=shift((mgx*m,-mgy*m))*x0800;
path frame=(framesw--framenw--framene--framese--cycle);
draw(frame,linewidth(0));

path ofr=(x0000--x0800--x0804--x0004--cycle);
path constraint=(x0300..cp..x0504--x0804--x0800--cycle);
pen ofrpen=linewidth(.7);
pen pen1=lightyellow;
pen pen2=lightolive;
pen dotpen=linewidth(2);
fill(ofr,pen1);
fill(constraint,pen2);
draw(ofr,ofrpen);
draw(constraint,ofrpen);
label("$P$",x0103,NW);
label("$Q_{1}$",x0702,SE);
label("$Q_{2}$",cp,E);
dot(x0103,dotpen);
dot(cp,dotpen);
dot(x0601,dotpen);
