function y = s1173(x)
y(1)=(x(1)*x(5))+(x(1)*x(6))-(exp(1)*0.4)
y(2)=(x(2)*x(5))+(x(2)*x(6))-(exp(1)*0.3)
y(3)=(x(3)*x(6))+(x(3)*x(8))-(exp(1)*0.2)
y(4)=(x(4)*x(5))+(x(4)*x(6))+(x(4)*x(7))+(x(4)*x(8))-(exp(1)*0.1)
y(5)=(x(5)*x(1))+(x(5)*x(2))+(x(5)*x(4))-(exp(1)*0.3)
y(6)=(x(6)*x(1))+(x(6)*x(2))+(x(6)*x(3))+(x(6)*x(4))-(exp(1)*0.6)
y(7)=(x(7)*x(4))-(exp(1)*0.04)
y(8)=(x(8)*x(3))+(x(8)*x(4))-(exp(1)*0.06)
endfunction

## for some reason, you have to pass the next line manually
## in cygwin, I also had to pass the function line by line manually
## [x, info] = fsolve (@stefsolve, [.3;.3;.3])

## z=sqrt(.1*exp(1))
## [x, info] = fsolve (@s1173, [z;z;z;z;z;z;z;z])
## result

x =
[0.93371;
 0.70028;
 0.58357;
 0.11671;
 0.46580;
 0.69870;
 0.93160;
 0.23290]

M=[x(1,1)*x(5,1),x(1,1)*x(6,1),x(1,1)*x(7,1),x(1,1)*x(8,1);x(2,1)*x(5,1),x(2,1)*x(6,1),x(2,1)*x(7,1),x(2,1)*x(8,1);x(3,1)*x(5,1),x(3,1)*x(6,1),x(3,1)*x(7,1),x(3,1)*x(8,1);x(4,1)*x(5,1),x(4,1)*x(6,1),x(4,1)*x(7,1),x(4,1)*x(8,1)]
WQ=(1/exp(1)).*M

## result

## ans =

##    0.160000   0.240000   0.320000   0.080000
##    0.120000   0.180000   0.240000   0.060000
##    0.100000   0.150000   0.200000   0.050000
##    0.020000   0.030000   0.040000   0.010000
